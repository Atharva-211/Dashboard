(()=>{var e={};e.id=931,e.ids=[931],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9491:e=>{"use strict";e.exports=require("assert")},6113:e=>{"use strict";e.exports=require("crypto")},2361:e=>{"use strict";e.exports=require("events")},7147:e=>{"use strict";e.exports=require("fs")},3685:e=>{"use strict";e.exports=require("http")},5687:e=>{"use strict";e.exports=require("https")},2037:e=>{"use strict";e.exports=require("os")},1017:e=>{"use strict";e.exports=require("path")},2781:e=>{"use strict";e.exports=require("stream")},6224:e=>{"use strict";e.exports=require("tty")},7310:e=>{"use strict";e.exports=require("url")},3837:e=>{"use strict";e.exports=require("util")},9796:e=>{"use strict";e.exports=require("zlib")},6438:(e,r,s)=>{"use strict";s.r(r),s.d(r,{GlobalError:()=>l.a,__next_app__:()=>x,originalPathname:()=>m,pages:()=>c,routeModule:()=>u,tree:()=>o});var t=s(7096),a=s(6132),i=s(7284),l=s.n(i),n=s(2564),d={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>n[e]);s.d(r,d);let o=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,8203)),"/home/atharva/Downloads/Dashboard-main/src/app/page.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,9113)),"/home/atharva/Downloads/Dashboard-main/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,9291,23)),"next/dist/client/components/not-found-error"]}],c=["/home/atharva/Downloads/Dashboard-main/src/app/page.tsx"],m="/page",x={require:s,loadChunk:()=>Promise.resolve()},u=new t.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},71:(e,r,s)=>{Promise.resolve().then(s.bind(s,4134))},4134:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>Dashboard});var t=s(784),a=s(9885),i=s(1145);let l=i.Z.create({baseURL:"http://localhost:5001",timeout:1e4,headers:{"Content-Type":"application/json"}});l.interceptors.request.use(e=>(console.log(`Making ${e.method?.toUpperCase()} request to: ${e.url}`),e),e=>(console.error("Request error:",e),Promise.reject(e))),l.interceptors.response.use(e=>e,e=>{throw console.error("API Error:",e.response?.data||e.message),e});let UserService=class UserService{static async getUsers(){try{let e=await l.get("/users");if(e.data.success&&e.data.data)return e.data.data.users;throw Error(e.data.error||"Failed to fetch users")}catch(e){throw console.error("Error fetching users:",e),this.handleApiError(e)}}static async getUserById(e){try{let r=await l.get(`/users/${e}`);if(r.data.success&&r.data.data)return r.data.data;throw Error(r.data.error||"Failed to fetch user")}catch(e){throw console.error("Error fetching user:",e),this.handleApiError(e)}}static async createUser(e){try{let r=await l.post("/users",e);if(r.data.success&&r.data.data)return r.data.data;throw Error(r.data.error||"Failed to create user")}catch(e){throw console.error("Error creating user:",e),this.handleApiError(e)}}static async updateUser(e,r){try{let s=await l.put(`/users/${e}`,r);if(s.data.success&&s.data.data)return s.data.data;throw Error(s.data.error||"Failed to update user")}catch(e){throw console.error("Error updating user:",e),this.handleApiError(e)}}static async deleteUser(e){try{let r=await l.delete(`/users/${e}`);if(!r.data.success)throw Error(r.data.error||"Failed to delete user")}catch(e){throw console.error("Error deleting user:",e),this.handleApiError(e)}}static handleApiError(e){return i.Z.isAxiosError(e)?{message:e.response?.data?.error||e.message,code:e.code,details:e.response?.data}:{message:e.message||"An unexpected error occurred"}}};var n=s(6558),d=s(3894),o=s(1583);let c=o.z.object({id:o.z.string().optional(),name:o.z.string().min(2,"Name must be at least 2 characters"),email:o.z.string().email("Invalid email format"),age:o.z.number().min(1,"Age must be at least 1").max(120,"Age must be less than 120"),department:o.z.string().min(2,"Department must be at least 2 characters"),role:o.z.string().min(2,"Role must be at least 2 characters"),createdAt:o.z.string().optional(),updatedAt:o.z.string().optional()}),UserForm=({user:e,onSubmit:r,onCancel:s,isLoading:a=!1})=>{let{register:i,handleSubmit:l,formState:{errors:o,isSubmitting:m},reset:x}=(0,n.cI)({resolver:(0,d.F)(c.omit({id:!0,createdAt:!0,updatedAt:!0})),defaultValues:e?{name:e.name,email:e.email,age:e.age,department:e.department,role:e.role}:{name:"",email:"",age:0,department:"",role:""}}),handleFormSubmit=async s=>{try{await r(s),e||x()}catch(e){console.error("Form submission error:",e)}};return(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:e?"Edit User":"Add New User"}),(0,t.jsxs)("form",{onSubmit:l(handleFormSubmit),className:"space-y-4",children:[(0,t.jsxs)("div",{children:[t.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Name *"}),t.jsx("input",{...i("name"),type:"text",id:"name",className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 ${o.name?"border-red-500":"border-gray-300"}`,placeholder:"Enter full name"}),o.name&&t.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.name.message})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email *"}),t.jsx("input",{...i("email"),type:"email",id:"email",className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 ${o.email?"border-red-500":"border-gray-300"}`,placeholder:"Enter email address"}),o.email&&t.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.email.message})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{htmlFor:"age",className:"block text-sm font-medium text-gray-700 mb-1",children:"Age *"}),t.jsx("input",{...i("age",{valueAsNumber:!0}),type:"number",id:"age",min:"1",max:"120",className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 ${o.age?"border-red-500":"border-gray-300"}`,placeholder:"Enter age"}),o.age&&t.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.age.message})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{htmlFor:"department",className:"block text-sm font-medium text-gray-700 mb-1",children:"Department *"}),(0,t.jsxs)("select",{...i("department"),id:"department",className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 ${o.department?"border-red-500":"border-gray-300"}`,children:[t.jsx("option",{value:"",children:"Select Department"}),t.jsx("option",{value:"Engineering",children:"Engineering"}),t.jsx("option",{value:"Marketing",children:"Marketing"}),t.jsx("option",{value:"Sales",children:"Sales"}),t.jsx("option",{value:"HR",children:"Human Resources"}),t.jsx("option",{value:"Finance",children:"Finance"}),t.jsx("option",{value:"Operations",children:"Operations"})]}),o.department&&t.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.department.message})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{htmlFor:"role",className:"block text-sm font-medium text-gray-700 mb-1",children:"Role *"}),t.jsx("input",{...i("role"),type:"text",id:"role",className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 ${o.role?"border-red-500":"border-gray-300"}`,placeholder:"Enter job role"}),o.role&&t.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.role.message})]}),(0,t.jsxs)("div",{className:"flex space-x-4 pt-4",children:[t.jsx("button",{type:"submit",disabled:m||a,className:"flex-1 bg-primary-600 text-white py-2 px-4 rounded-md hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:m||a?(0,t.jsxs)("div",{className:"flex items-center justify-center",children:[t.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),e?"Updating...":"Creating..."]}):e?"Update User":"Create User"}),t.jsx("button",{type:"button",onClick:s,className:"flex-1 bg-gray-300 text-gray-700 py-2 px-4 rounded-md hover:bg-gray-400 focus:outline-none focus:ring-2 focus:ring-gray-500 transition-colors",children:"Cancel"})]})]})]})},UserList=({users:e,onEdit:r,onDelete:s,isLoading:a=!1})=>{let handleDelete=e=>{window.confirm(`Are you sure you want to delete ${e.name}?`)&&s(e.id)};return a?t.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:(0,t.jsxs)("div",{className:"animate-pulse",children:[t.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/4 mb-4"}),t.jsx("div",{className:"space-y-3",children:[void 0,void 0,void 0,void 0,void 0].map((e,r)=>t.jsx("div",{className:"h-12 bg-gray-200 rounded"},r))})]})}):0===e.length?t.jsx("div",{className:"bg-white rounded-lg shadow-md p-8 text-center",children:(0,t.jsxs)("div",{className:"text-gray-500",children:[t.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400 mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),t.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No users found"}),t.jsx("p",{className:"text-gray-500",children:"Get started by adding your first user."})]})}):(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[t.jsx("div",{className:"px-6 py-4 bg-gray-50 border-b",children:(0,t.jsxs)("h2",{className:"text-lg font-semibold text-gray-800",children:["Users (",e.length,")"]})}),t.jsx("div",{className:"md:hidden",children:e.map(e=>(0,t.jsxs)("div",{className:"p-4 border-b border-gray-200 last:border-b-0",children:[(0,t.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,t.jsxs)("div",{children:[t.jsx("h3",{className:"font-semibold text-gray-900",children:e.name}),t.jsx("p",{className:"text-sm text-gray-600",children:e.email})]}),(0,t.jsxs)("div",{className:"flex space-x-2",children:[t.jsx("button",{onClick:()=>r(e),className:"text-primary-600 hover:text-primary-800 text-sm font-medium",children:"Edit"}),t.jsx("button",{onClick:()=>handleDelete(e),className:"text-red-600 hover:text-red-800 text-sm font-medium",children:"Delete"})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[(0,t.jsxs)("div",{children:[t.jsx("span",{className:"text-gray-500",children:"Age:"})," ",e.age]}),(0,t.jsxs)("div",{children:[t.jsx("span",{className:"text-gray-500",children:"Dept:"})," ",e.department]}),(0,t.jsxs)("div",{className:"col-span-2",children:[t.jsx("span",{className:"text-gray-500",children:"Role:"})," ",e.role]})]})]},e.id))}),t.jsx("div",{className:"hidden md:block overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-gray-50",children:(0,t.jsxs)("tr",{children:[t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Age"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Department"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),t.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(e=>(0,t.jsxs)("tr",{className:"hover:bg-gray-50",children:[t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsx("div",{className:"text-sm font-medium text-gray-900",children:e.name})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsx("div",{className:"text-sm text-gray-900",children:e.email})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsx("div",{className:"text-sm text-gray-900",children:e.age})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-primary-100 text-primary-800",children:e.department})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsx("div",{className:"text-sm text-gray-900",children:e.role})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:(0,t.jsxs)("div",{className:"flex space-x-3",children:[t.jsx("button",{onClick:()=>r(e),className:"text-primary-600 hover:text-primary-900 transition-colors",children:"Edit"}),t.jsx("button",{onClick:()=>handleDelete(e),className:"text-red-600 hover:text-red-900 transition-colors",children:"Delete"})]})})]},e.id))})]})})]})};function Dashboard(){let[e,r]=(0,a.useState)([]),[s,i]=(0,a.useState)(!0),[l,n]=(0,a.useState)(null),[d,o]=(0,a.useState)(!1),[c,m]=(0,a.useState)(null),[x,u]=(0,a.useState)(!1);(0,a.useEffect)(()=>{fetchUsers()},[]);let fetchUsers=async()=>{try{i(!0),n(null);let e=await UserService.getUsers();r(e)}catch(e){n(e.message||"Failed to fetch users"),console.error("Error fetching users:",e)}finally{i(!1)}},handleCreateUser=async e=>{try{u(!0);let s=await UserService.createUser(e);r(e=>[...e,s]),o(!1),n(null)}catch(e){throw n(e.message||"Failed to create user"),e}finally{u(!1)}},handleUpdateUser=async e=>{if(c?.id)try{u(!0);let s=await UserService.updateUser(c.id,e);r(e=>e.map(e=>e.id===c.id?s:e)),m(null),o(!1),n(null)}catch(e){throw n(e.message||"Failed to update user"),e}finally{u(!1)}},handleDeleteUser=async e=>{try{u(!0),await UserService.deleteUser(e),r(r=>r.filter(r=>r.id!==e)),n(null)}catch(e){n(e.message||"Failed to delete user")}finally{u(!1)}};return(0,t.jsxs)("div",{className:"min-h-screen bg-gray-100",children:[t.jsx("header",{className:"bg-white shadow-sm border-b",children:t.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,t.jsxs)("div",{className:"flex justify-between items-center py-6",children:[(0,t.jsxs)("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"User Dashboard"}),t.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Manage your organization's users with full CRUD operations"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsxs)("div",{className:"text-sm text-gray-500",children:["Total Users: ",t.jsx("span",{className:"font-semibold text-gray-900",children:e.length})]}),!d&&t.jsx("button",{onClick:()=>{m(null),o(!0)},className:"bg-primary-600 text-white px-4 py-2 rounded-md hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500 transition-colors",children:"Add User"})]})]})})}),(0,t.jsxs)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[l&&t.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-md p-4",children:(0,t.jsxs)("div",{className:"flex",children:[t.jsx("div",{className:"flex-shrink-0",children:t.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:t.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),(0,t.jsxs)("div",{className:"ml-3",children:[t.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error"}),t.jsx("div",{className:"mt-1 text-sm text-red-700",children:l})]}),t.jsx("div",{className:"ml-auto pl-3",children:(0,t.jsxs)("button",{onClick:()=>n(null),className:"text-red-400 hover:text-red-600",children:[t.jsx("span",{className:"sr-only",children:"Dismiss"}),t.jsx("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:t.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})]})})]})}),d&&t.jsx("div",{className:"mb-8",children:t.jsx(UserForm,{user:c||void 0,onSubmit:c?handleUpdateUser:handleCreateUser,onCancel:()=>{o(!1),m(null)},isLoading:x})}),t.jsx(UserList,{users:e,onEdit:e=>{m(e),o(!0)},onDelete:handleDeleteUser,isLoading:s}),!s&&t.jsx("div",{className:"mt-6 text-center",children:(0,t.jsxs)("button",{onClick:fetchUsers,className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-primary-500",children:[t.jsx("svg",{className:"h-4 w-4 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Refresh Data"]})})]}),t.jsx("footer",{className:"bg-white border-t mt-12",children:t.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:(0,t.jsxs)("div",{className:"text-center text-sm text-gray-500",children:[t.jsx("p",{children:"User Dashboard - Built with Next.js, TypeScript, and Tailwind CSS"}),t.jsx("p",{className:"mt-1",children:"Connected to Google Cloud Functions API"})]})})})]})}},8203:(e,r,s)=>{"use strict";s.r(r),s.d(r,{$$typeof:()=>l,__esModule:()=>i,default:()=>d});var t=s(5153);let a=(0,t.createProxy)(String.raw`/home/atharva/Downloads/Dashboard-main/src/app/page.tsx`),{__esModule:i,$$typeof:l}=a,n=a.default,d=n}};var r=require("../webpack-runtime.js");r.C(e);var __webpack_exec__=e=>r(r.s=e),s=r.X(0,[472,102,596],()=>__webpack_exec__(6438));module.exports=s})();